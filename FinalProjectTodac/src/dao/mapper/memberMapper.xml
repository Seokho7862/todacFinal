<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="dao.IMemberDao">
  <!-- 로그인시 사용자 회원 확인하기 -->
  <select id="selectUserById" parameterType="String" resultType="MEMBER_USER">
  select * from member_user where muid=#{muid} 
  </select>
  
  <!-- 로그인시 관계자 확인하기 -->
  <select id="selectManagerById" parameterType="String" resultType="MEMBER_USER">
  select * from member_user where muid=#{muid} and chk is not null
  </select>

  <!-- 이름과 핸드폰으로 아이디 찾기위해서 해당 사용자 있는지 확인 -->
  <select id="selectUserByNamePhone" parameterType="java.util.HashMap" resultType="MEMBER_USER">
  select * from member_user where name=#{name} and phone=#{phone}  
  </select>
  <!-- 비밀번호 재설정 -->
  <update id="updatePwd" parameterType="java.util.HashMap">
  update member_user set pwd=#{pwd} where muid=#{muid}
  </update>
  <update id="updateMember" parameterType="MEMBER_USER">
  update member_user set phone=#{phone}, post_num=#{post_num}, address_detail=#{address_detail},
  address_base=#{address_base}, address_road=#{address_road},latitude=#{latitude},logitude=#{logitude} where muid=#{muid}
  </update>
  
  </mapper>